# git远程仓库使用

1. 远程仓库建立（以github为例）
    1. 创建 SSH Key
    打开 git Bash（linux打开shell），使用 $ ssh-keygen -t rsa -C "youremail@example.com" 创建 SSH Key
    你需要把邮件地址换成你自己的邮件地址，然后一路回车，使用默认值即可，由于这个Key也不是用于军事目的，所以也无需设置密码。如果一切顺利的话，可以在用户主目录里找到.ssh目录，里面有id_rsa和id_rsa.pub两个文件，这两个就是SSH Key 的秘钥对，id_rsa 是私钥，不能泄露出去，id_rsa.pub是公钥，可以放心地告诉任何人。
    2. 登录 Github ，打开 “Account settings”，“SSH Keys” 页面：然后，点 “Add SSH Key”，填上任意 Title，在 Key 文本框里粘贴 id_rsa.pub 文件的内容。
    3. 创建 Github 仓库
    登陆 GitHub，然后，在右上角找到 “Create a new repo” 按钮，创建一个新的仓库在 Repository name 填入 learngit，其他保持默认设置，点击 “Create repository” 按钮，就成功地创建了一个新的 Git 仓库。
    4. 与本地的仓库连接
    在本地的仓库中运行 $ git remote add origin git@github.com:yourgithubname/learngit.git 命令；添加后，远程库的名字就是 origin，这是 Git 默认的叫法，也可以改成别的，但是 origin 这个名字一看就知道是远程库。
    5. 把本地库的内容推送到远程库上：
        
        ```
$ git push -u origin master
The authenticity of host 'github.com (192.30.252.128)' can't be established.
RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'github.com,192.30.252.128' (RSA) to the list of known hosts.
Counting objects: 19, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (13/13), done.
Writing objects: 100% (19/19), 1.55 KiB | 0 bytes/s, done.
Total 19 (delta 4), reused 0 (delta 0)
To git@github.com:jayden-J/learngit.git
 * [new branch]      master -> master
Branch master set up to track remote branch master from origin.
        ```

    6. 从现在起，只要本地作了提交，就可以通过命令：git push origin master 把本地master分支的最新修改推送至 GitHub.
    当你第一次使用 Git 的 clone 或者 push 命令连接 GitHub 时，会得到一个警告：
    The authenticity of host 'github.com (xx.xx.xx.xx)' can't be established.
    RSA key fingerprint is xx.xx.xx.xx.xx.
    Are you sure you want to continue connecting (yes/no)?
    这是因为 Git 使用 SSH 连接，而 SSH 连接在第一次验证 GitHub 服务器的 Key 时，需要你确认 GitHub 的 Key 的指纹信息是否真的来自 GitHub 的服务器，输入 yes 回车即可。

2. 从远程库克隆
    假设我们从零开发，那么最好的方式是先创建远程库，然后，从远程库克隆。
    1. 登陆 Github ,创建一个新的仓库 gitskills 。
    2. 在本地使用命令 git clone 克隆一个本地库。
        
        ```
$ git clone git@github.com:jayden-J/gitskills.git
Cloning into 'gitskills'...
Warning: Permanently added the RSA host key for IP address '192.30.252.129' to the list of known hosts.
remote: Counting objects: 3, done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
Receiving objects: 100% (3/3), done.
Checking connectivity... done.

        ```

2. 分支管理
    1. 创建分支,使用 git checkout -b name。

        ```
$ git checkout -b dev
Switched to a new branch 'dev'
        ```

    2. 查看分支，使用 git branch。git branch 命令会列出所有分支，当前分支前面会标一个*号。
        
        ```
$ git branch
* dev
  master
        ```

    3. 合并分支，git merge 命令用于合并指定分支到当前分支。
        
        ```
$ git merge dev
Updating d6f1ed3..177508b
Fast-forward
README.md | 3 ++-
1 file changed, 2 insertions(+), 1 deletion(-)
        ```
    **注意到上面的 Fast-forward 信息，Git 告诉我们，这次合并是“快进模式”，也就是直接把 master 指向 dev 的当前提交，所以合并速度非常快。**
    4. 删除分支，使用 git branch -d name 命令。
        
        ```
$ git branch -d dev
Deleted branch dev (was 177508b).
        ```

    5. 解决分支冲突
        - 创建新的分支 featurel 并修改 README.md 内容后提交修改。
        - 切换到 master 分支并修改一下内容。
        - 这种情况下，Git 无法执行“快速合并”，只能试图把各自的修改合并起来，但这种合并就可能会有冲突。
            
            ```
$ git merge featurel
Auto-merging README.md
CONFLICT (content): Merge conflict in README.md
Automatic merge failed; fix conflicts and then commit the result.
            ```

            - 查看 readme.md 的文件内容：
                >  # gitskills
                >  <<<<<<< HEAD
                >  Creating a new branch is quick & simple.
                >  =======
                >  Creating a new branch is quick AND simple.
                >  >>>>>>>featurel
            - Git 用<<<<<<<，=======，>>>>>>>标记出不同分支的内容，我们修改成“ Creating a new branch is quick and simple.  ”后保存。然后提交。

                ```
$ git commit -m "conflict fixed"
[master b1ebfb2] conflict fixed
                ```
            
            - 用 git log --graph 命令可以看到分支合并图。
            - 最后删除分支 featurel 。
3. 分支管理策略
                